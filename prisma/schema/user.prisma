model user {
  user_id           Int                @id @default(autoincrement())
  name              String?
  email             String             @unique
  role              UserRole           @default(GUEST)
  payment_info      String?
  invite_code       String?            @db.Uuid
  signup_complete   Boolean?
  created_at        DateTime?          @default(now()) @db.Timestamp(6)
  updated_at        DateTime?          @default(now()) @db.Timestamp(6)
  city              String?
  state             String?
  country           String?
  timezone          String?
  admin             admin?
  user_organization user_organization[]
  student           student?
  teacher           teacher?
  post              post[]
}

model admin {
  admin_id      Int          @id
  is_active     Boolean?
  user_id       Int          @unique
  user          user         @relation(fields: [user_id], references: [user_id], onDelete: Cascade)
}

model organization {
  organization_id   Int                 @id @default(autoincrement())
  name              String?
  description       String?
  website           String?
  old_id            String?             @db.Uuid
  scholarship       scholarship[]
  user_organization user_organization[]
}

model user_organization {
  user_organization_id Int          @id @default(autoincrement())
  user_id              Int
  organization_id      Int
  organization         organization @relation(fields: [organization_id], references: [organization_id], onDelete: NoAction, onUpdate: NoAction)
  user                 user         @relation(fields: [user_id], references: [user_id], onDelete: NoAction, onUpdate: NoAction)
}

enum UserRole {
  ADMIN
  TEACHER
  STUDENT
  GUEST
}
